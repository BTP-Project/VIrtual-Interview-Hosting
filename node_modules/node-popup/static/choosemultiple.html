<body id='choosemultiple'>
    <style id='style'></style>
    <script src='rej.js'></script>
    <script src='res.js'></script>
    <script>
        const r = ()=>{
            const answer = [];
            const labels = document.getElementsByTagName('LABEL');
            for(const label of labels){
                if(label.childNodes[0].checked){
                    answer.push(label.textContent);
                }
            }
            res(answer);
        }
    </script>
    <div id='text' ></div>
    <div id='input' ></div>
    <button type='button' id='cancel' onclick='rej(new Error("cancelled"))' ></button>
    <button type='button' id='ok' onclick='r()' ></button>
    <script>
    async function main(info) {
        const {message, rest, style, title} = await info();
        document.title = title;
        document.getElementById('style').innerText = style;
        document.getElementById('text').innerHTML = message;
        const input = document.getElementById('input');
        for(const choice of rest){
            const label = document.createElement('LABEL');
            label.textContent = choice;
            const checkbox = document.createElement('INPUT');
            checkbox.type = 'checkbox';
            label.prepend(checkbox);
            input.appendChild(label);
        }
    };
    main(info);
    </script>
</body>
